extends ../layout 
block corpo
    #tabs    
        .titlebox
            | Tabela de Seleção {{ entidade.nome }}
        
        tabs
            //- PROCESSOS COMUNS
            tab(header="Processos Comuns")#tab1
                .textbox
                    | A partir da lista de processos comuns (passíveis de existirem em qualquer 
                    | entidade) identifique a natureza de intervenção da sua entidade, como dono 
                    | ou participante, em cada processo de negócio.

                
                .infobox(style="margin-top:10px")
                    b Lista Consolidada - Processos Comuns

                #tabela(style="margin-top:30px")
                    custom-table-waterfall(
                        v-if="ready"

                        pages-on="true"
                        select-on="true"

                        suffix="common"

                        :header="tableHeader"
                        :complete-rows="commonProcs"
                        :cwidth="cwidth"
                        :n-edits="nEdits"
                        
                        table-class='table table-hover'
                        
                        @drop-clicked-common="dropClicked($event, commonProcs)"
                        @select-clicked-common="selectClicked($event, commonProcs)"
                    )
                    h4(
                        v-else
                    ) Loading...

                div(align="centre")
                    button.next <
                    button(@click="saveInfo") Guardar
                    button.next >


            //-PROCESSOS ESPECÍFICOS
            tab(header="Processos Específicos")#tab2
                .textbox
                    | Selecione a tipologia de entidade a que pertence.

                div(style="margin-top:10px")
                    table(style="width:100%;table-layout:fixed")
                        tr
                            td(width="500px")
                                v-select.custom-select( 
                                    style="width:500px"
                                    v-model="newTipol"
                                    :options="tipolList"
                                )
                            td(valign="top")
                                button(
                                    @click="myTipolList.unshift(newTipol.value)"
                                ) +
                        tr(v-if="myTipolList.length")
                            td(colspan="2" style="padding-top:10px")
                                ul(style="padding-left:20px")
                                    li(v-for="(o,index) in myTipolList")
                                        | {{ o.Sigla }} - {{ o.Nome }}
                                        button(
                                            @click="myTipolList.splice(index,1)"
                                        ) x

                .textbox(style="margin-top:30px")
                    | Assinale na lista apresentada a natureza da intervenção da entidade, 
                    | na qualidade de Dono e/ou Participante


                
                .infobox(style="margin-top:10px")
                    b Lista Consolidada - Seleção por entidade e tipologia

                #tabela(style="margin-top:30px")
                    custom-table-waterfall(
                        v-if="ready"

                        pages-on="true"
                        select-on="true"
                        
                        suffix="specific"

                        :header="tableHeader"
                        :complete-rows="specificProcs"
                        :cwidth="cwidth"
                        :n-edits="nEdits"
                        
                        table-class='table table-hover'
                        
                        @drop-clicked-specific="dropClicked($event, specificProcs)"
                        @select-clicked-specific="selectClicked($event, specificProcs)"
                    )
                    h4(
                        v-else
                    ) Loading...

                div(align="centre")
                    button.next <
                    button Guardar
                    button.next >


            //-PROCESSOS RESTANTES
            tab(header="Processos Restantes")#tab3
                .textbox
                    | Selecione na lista de processos de negócio específicos restantes 
                    |aqueles em que a sua entidade intervém e assinale a natureza da 
                    |intervenção, na qualidade de Dono e/ou Participante
                
                .infobox(style="margin-top:10px")
                    b Lista Consolidada - Processos Específicos Restantes

                #tabela(style="margin-top:30px")
                    custom-table-waterfall(
                        v-if="ready"

                        pages-on="true"
                        select-on="true"
                        
                        suffix="rest"

                        :header="tableHeader"
                        :complete-rows="restProcs"
                        :cwidth="cwidth"
                        :n-edits="nEdits"
                        
                        table-class='table table-hover'
                        
                        @drop-clicked-rest="dropClicked($event, restProcs)"
                        @select-clicked-rest="selectClicked($event, restProcs)"
                    )
                    h4(
                        v-else
                    ) Loading...

                div(style="float:right")
                    button.next <
                    button Guardar
                    button.next >
        
append scripts
    script(src="/javascripts/tabsSel/escolha_processos.vue")


    